---
# Production Inventory for Hyperion Fleet Manager
#
# This inventory file defines Windows hosts for production environment.
# Update with actual host information before use.
#
# Usage:
#   ansible-playbook -i inventories/production playbooks/site.yml

all:
  vars:
    # Environment identifier
    hyperion_environment: production

    # WinRM connection settings
    ansible_connection: winrm
    ansible_winrm_transport: ntlm
    ansible_winrm_server_cert_validation: ignore
    ansible_port: 5986
    ansible_winrm_scheme: https

    # Default timezone for production
    hyperion_timezone: "UTC"

    # NTP servers
    hyperion_ntp_servers: "time.aws.com"

    # Reboot settings (conservative for production)
    hyperion_allow_reboot: false

    # Compliance settings
    hyperion_compliance_bucket: "hyperion-compliance-reports-prod"

    # Health check settings
    hyperion_health_bucket: "hyperion-health-reports-prod"

  children:
    # Web servers group
    web_servers:
      hosts:
        # Example hosts - replace with actual hostnames/IPs
        # web-prod-001:
        #   ansible_host: 10.0.1.10
        #   hyperion_hostname: WEB-PROD-001
        # web-prod-002:
        #   ansible_host: 10.0.1.11
        #   hyperion_hostname: WEB-PROD-002
      vars:
        server_role: web
        baseline_common_packages:
          - name: 7zip
            state: present
          - name: notepadplusplus
            state: present
          - name: git
            state: present
          - name: awscli
            state: present
          - name: urlrewrite
            state: present

    # Application servers group
    app_servers:
      hosts:
        # app-prod-001:
        #   ansible_host: 10.0.2.10
        #   hyperion_hostname: APP-PROD-001
        # app-prod-002:
        #   ansible_host: 10.0.2.11
        #   hyperion_hostname: APP-PROD-002
      vars:
        server_role: application
        baseline_common_packages:
          - name: 7zip
            state: present
          - name: notepadplusplus
            state: present
          - name: git
            state: present
          - name: awscli
            state: present
          - name: dotnet-sdk
            state: present

    # Database servers group
    db_servers:
      hosts:
        # db-prod-001:
        #   ansible_host: 10.0.3.10
        #   hyperion_hostname: DB-PROD-001
      vars:
        server_role: database
        # More conservative patching for database servers
        patch_serial: "10%"
        patch_allow_reboot: false
        baseline_common_packages:
          - name: 7zip
            state: present
          - name: notepadplusplus
            state: present
          - name: awscli
            state: present

    # Utility/management servers group
    utility_servers:
      hosts:
        # util-prod-001:
        #   ansible_host: 10.0.4.10
        #   hyperion_hostname: UTIL-PROD-001
      vars:
        server_role: utility

    # Group containing all Windows servers
    windows:
      children:
        web_servers:
        app_servers:
        db_servers:
        utility_servers:
